<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>AI Now Insite</title>
  <meta name="description" content="AI Now Insite는 현재의 AI 기술과 관련 흐름을 정리해 소개하는 정보형 웹사이트입니다." />
  <link rel="canonical" href="https://ainowinsight.com/" />
  <link rel="stylesheet" href="/assets/site.css" />

  <style>
    .topbar{position:fixed;top:0;left:0;right:0;z-index:1000;background:rgba(255,255,255,.92);backdrop-filter:saturate(180%) blur(10px);border-bottom:1px solid rgba(0,0,0,.08)}
    .topbar-inner{max-width:980px;margin:0 auto;display:flex;align-items:center;justify-content:space-between;gap:16px;padding:14px 18px}
    .topbar-logo{font-weight:800;letter-spacing:.2px;text-decoration:none;color:inherit}
    .topbar-nav{display:flex;flex-wrap:wrap;gap:14px}
    .topbar-nav a{text-decoration:none;color:inherit;opacity:.9}
    .topbar-nav a:hover{opacity:1;text-decoration:underline}
    body{padding-top:62px}
    @media (max-width:520px){.topbar-inner{padding:12px 14px}.topbar-nav{gap:10px}}
  </style>

</head>
<body>

  <div class="topbar">
    <div class="topbar-inner">
      <a class="topbar-logo" href="/">AI Now Insite</a>
      <nav class="topbar-nav" aria-label="Primary">
        <a href="/">홈</a>
        <a href="/privacy.html">개인정보처리방침</a>
        <a href="/terms.html">이용약관</a>
        <a href="/contact.html">문의</a>
      </nav>
    </div>
  </div>

  <div class="container">
    <header class="header">
      <div class="brand">
        <h1>AI Now Insite</h1>
        <p>현재의 AI 기술과 그 흐름을 정리해 살펴볼 수 있는 공간입니다.</p>
      </div>
      <nav class="nav">
        <a href="/about.html">소개</a>
        <a href="/privacy.html">개인정보처리방침</a>
        <a href="/terms.html">이용약관</a>
        <a href="/contact.html">문의</a>
      </nav>
    </header>

    <section class="hero">
      <div class="card">
        <div class="h2">최신 글</div>
        <div class="meta">
         글은 정보형 콘텐츠로 작성되며, 필요에 따라 내용이 보완될 수 있습니다.
        </div>
        <hr />
        <ul class="list">
          <!-- POSTS:START -->
          <!-- POSTS:END -->
        </ul>

        <div class="small" style="margin-top:12px">
          최신 글이 바로 안 보이면 주소 끝에 <span class="code">?v=숫자</span>를 붙여 새로고침 해보세요.
        </div>
      </div>
    </section>

    <footer class="footer">
      © AI Now Insite · <span class="meta">ainowinsight.com</span>
    </footer>
  </div>

  <script>
  (function(){
    // If your automation already injected <li> items, do nothing.
    var list = document.querySelector('ul.list');
    if(!list) return;
    var hasItems = Array.from(list.children).some(function(el){ return el.tagName === 'LI'; });
    if(hasItems) return;

    var candidates = [
      '/posts/index.json',
      '/posts.json',
      '/posts/posts.json'
    ];

    function fetchFirst(urls){
      if(!urls.length) return Promise.reject(new Error('no candidates'));
      var url = urls[0] + (urls[0].includes('?') ? '&' : '?') + 'v=' + Date.now();
      return fetch(url, {cache:'no-store'}).then(function(res){
        if(!res.ok) throw new Error('HTTP ' + res.status);
        return res.json();
      }).catch(function(){
        return fetchFirst(urls.slice(1));
      });
    }

    function escapeHtml(s){
      return String(s).replace(/[&<>"']/g, function(c){
        return {'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#39;'}[c];
      });
    }

    fetchFirst(candidates).then(function(data){
      var posts = Array.isArray(data) ? data : (data.posts || []);
      if(!posts.length){
        list.innerHTML = '<li class="meta">아직 홈에 노출할 글이 없습니다.</li>';
        return;
      }
      list.innerHTML = posts.map(function(p){
        var title = escapeHtml(p.title || 'Untitled');
        var url = escapeHtml(p.url || '#');
        var img = p.image ? '<img src="'+escapeHtml(p.image)+'" alt="" loading="lazy" style="width:72px;height:72px;object-fit:cover;border-radius:10px;margin-right:12px" />' : '';
        var date = p.date ? '<div class="small meta">'+escapeHtml(p.date)+'</div>' : '';
        return (
          '<li style="display:flex;align-items:center;gap:0;padding:10px 0;border-bottom:1px solid rgba(0,0,0,.06)">' +
            img +
            '<div style="min-width:0">' +
              '<a href="'+url+'" style="font-weight:700;text-decoration:none;color:inherit;display:inline-block;max-width:100%;white-space:nowrap;overflow:hidden;text-overflow:ellipsis">'+title+'</a>' +
              date +
            '</div>' +
          '</li>'
        );
      }).join('');
    }).catch(function(){
      list.innerHTML = '<li class="meta">글 목록 데이터를 찾지 못했습니다. (posts/index.json 생성 필요)</li>';
    });
  })();
  </script>

</body>
</html>
